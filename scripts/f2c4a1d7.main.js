"use strict";!function(){function a(b,c){0>c&&window.scrollY>b||c>0&&window.scrollY<b?($(window).scrollTop(window.scrollY+10*c),setTimeout(function(){a(b,c)},10)):0>c&&window.scrollY<b?$(window).scrollTop(b):c>0&&window.scrollY>b&&$(window).scrollTop(b)}function b(a){a?($(".schedule-nav").addClass("show"),$(".itinerary ul").css({opacity:0})):($(".itinerary ul").css({opacity:1}),$(".schedule-nav").removeClass("show"))}function c(c){c?($(".schedule-nav li , .itinerary ul li").each(function(b){$(this).on("click tap touch",function(){var c=b%2;$('.itinerary input[name="view"]:checked').prop("checked",!1),$("#"+$(this).children("label").attr("for")).prop("checked",!0),$(".active-tab").removeClass("active-tab"),$(".schedule-nav ul").children().eq(c).addClass("active-tab"),$(".itinerary ul").children().eq(c).addClass("active-tab"),window.scrollY>$("#schedule-inner-nav").offset().top-120&&window.innerWidth>768?a($("#schedule-inner-nav").offset().top-120,-1):window.innerWidth<=768&&window.scrollTo(0,$("#schedule-inner-nav").offset().top-120)})}),$(window).on("scroll",function(){window.innerWidth>768&&($(".page").offset().top>$("#page-program").height()-100&&$(".schedule-nav").hasClass("show")?$(".schedule-nav").addClass("fade"):$(".schedule-nav").hasClass("fade")&&$(".schedule-nav").removeClass("fade"),$("#menu-trigger").offset().top+100>$(".itinerary ul").offset().top&&($(".schedule-nav").hasClass("show")||w.checked||b(!0)),$("#menu-trigger").offset().top+100<=$(".itinerary ul").offset().top&&$(".schedule-nav").hasClass("show")&&b(!1))})):$(window).unbind("scroll")}function d(a){var b,c=t.length;t.forEach(function(a,c){a.checked&&(b=c)});for(var d=[];d.length<c;)d.push(s[b]),b++,b>=c&&(b=0);for(var e=0;e<d.length;e++){var f=d[e];f.removeAttribute("data-pos"),0!==e&&f.setAttribute("data-pos",e)}"function"==typeof a&&a()}function e(){r.style.paddingBottom=n?"0px":q.clientHeight+"px"}function f(a){w.checked=!1,d(function(){g(),window.location.hash=a,window.scrollTo(0,0);for(var b=0;b<s.length;b++)s[b].removeAttribute("data-pos")}),n&&(q.style.top=$(".pages-stack").height()+"px")}function g(){w.checked?($("#radio-nav-program")[0].checked&&$(".schedule-nav").hasClass("show")&&$(".schedule-nav").removeClass("show"),$("#radio-nav-program")[0].checked&&window.innerWidth<=768&&$(".schedule-nav").hide(),d(),q.classList.add("clear")):(q.classList.remove("clear"),$("#menu-trigger").offset().top+100<=$(".itinerary ul").offset().top&&($(".schedule-nav").hasClass("show")||w.checked||b(!1),$("#radio-nav-program")[0].checked&&window.innerWidth<=768&&$(".schedule-nav").show())),e()}function h(a){a.preventDefault(),w.checked=!1,g()}function i(a){document.querySelector(".not-active").removeEventListener("click",h),u.forEach(function(b){b.classList.remove("not-active"),b.classList.remove("disabled"),b.attributes.href.nodeValue.slice(1)===a&&(b.className+=n?" not-active disable":" not-active")}),document.querySelector(".not-active").addEventListener("click",h)}function j(){b(!1);var a=location.hash?location.hash.slice(1):null;if(null===a)return void(window.location.hash="#page-home");var d=a.replace("page","radio-nav"),e=document.getElementById(d);return null===e?void(window.location.hash="#page-home"):(e.checked=!0,"page-program"===a?(c(!0),window.innerWidth<=768&&$(".schedule-nav").show()):c(!1),i(a),void f(a))}function k(){e()}function l(){var a=document.querySelector(".logo"),b=a.getBoundingClientRect(),c=document.scrollingElement.scrollTop,d=document.scrollingElement.scrollLeft,e={t:b.top-c,l:b.left-d,b:b.bottom-c,r:b.right-d,cx:b.width/2+b.left+d,cy:b.height/2+b.top+c,w:b.width,h:b.height},f=a.querySelectorAll(".letters-tail ul"),g=[].map.call(f,function(a){return getComputedStyle(a)["perspective-origin"].split(" ").map(function(a){return parseInt(a)})}),h=e.cx,i=e.cy,j=function(){b=a.getBoundingClientRect(),e={t:b.top,l:b.left,b:b.bottom,r:b.right,cx:b.width/2+b.left,cy:b.height/2+b.top,w:b.width,h:b.height},g=[].map.call(f,function(a){return getComputedStyle(a)["perspective-origin"].split(" ").map(function(a){return parseInt(a)})})},k=function(a){window.requestAnimationFrame(function(){h=a.pageX-h,i=a.pageY-i,g.forEach(function(a,b){a[0]+=h,a[1]+=i,f[b].style["perspective-origin"]=a.map(function(a){return a+"px"}).join(" ")}),h=a.pageX,i=a.pageY})};window.addEventListener("resize",j),n||document.querySelector("#page-home .canvas").addEventListener("mousemove",k,!0)}function m(){var a=new XMLHttpRequest,b="http://api.openweathermap.org/data/2.5/weather?id=293397&appid=17e28f9119f49c8bf85eaacba44455c1&units=metric",c=function(a){var b=a.name,c=Math.round(a.main.temp),d=Math.round(9*c/5+32),e=a.sys.country;document.querySelector("span.city").innerHTML=b,document.querySelector("span.celTemp").innerHTML=c,document.querySelector("span.ferTemp").innerHTML=d,document.querySelector("span.country").innerHTML=e};a.open("GET",b,!0),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&c(JSON.parse(a.responseText))},a.send(null)}var n=function(){return"undefined"!=typeof window.orientation}(),o=!1,p=0,q=document.getElementsByClassName("footer-wrapper")[0],r=document.getElementsByClassName("pages-stack")[0],s=[].slice.call(r.getElementsByClassName("page")),t=[].slice.call(document.getElementsByClassName("page-radio-nav")),u=[].slice.call(document.getElementsByClassName("pages-nav")[0].getElementsByClassName("link")),v=document.getElementsByTagName("body")[0],w=document.getElementById("menu-trigger"),x=setInterval(function(){p++,p>=3&&o&&(clearInterval(x),$(".loader").fadeOut(function(){$(".preloader").fadeOut(function(){$("body").addClass("loaded"),$(".preloader").remove()})}))},1e3);window.onload=function(){$("#radio-nav-program")[0].checked&&window.innerWidth<=768&&$(".schedule-nav").show(),n&&(v.classList.add("mobile"),q.classList.add("mobile"),q.classList.remove("hide")),v.classList.add("ready");var a=document.getElementById("email");a.onblur=function(){a.classList.contains("full")||""===a.value?""===a.value&&a.classList.remove("full"):a.classList.add("full")},m(),j(),window.addEventListener("hashchange",j,!0),w.addEventListener("click",g,!0),window.setTimeout(function(){q.classList.remove("hide"),v.classList.remove("loading");for(var a=0;a<s.length;a++)s[a].classList.remove("loading");k(),l()},400),window.addEventListener("resize",k,!0)}}();