"use strict";!function(){function a(b){window.scrollY>b?($(window).scrollTop(window.scrollY-10),setTimeout(function(){a(b)},10)):window.scrollY<b&&$(window).scrollTop(b)}function b(b){b?($(".schedule-nav li , .itinerary ul li").each(function(b){$(this).on("click tap touch",function(){var c=b%2;$('.itinerary input[name="view"]:checked').prop("checked",!1),$("#"+$(this).children("label").attr("for")).prop("checked",!0),$(".active-tab").removeClass("active-tab"),$(".schedule-nav ul").children().eq(c).addClass("active-tab"),$(".itinerary ul").children().eq(c).addClass("active-tab"),window.scrollY>$("#schedule-inner-nav").offset().top-120&&a($("#schedule-inner-nav").offset().top-120)})}),$(window).on("scroll",function(){$("#menu-trigger").offset().top+100>$(".itinerary ul").offset().top&&($(".schedule-nav").hasClass("show")||($(".schedule-nav").toggleClass("show"),$(".itinerary ul").css({opacity:0}))),$("#menu-trigger").offset().top+100<=$(".itinerary ul").offset().top&&$(".schedule-nav").hasClass("show")&&($(".itinerary ul").css({opacity:1}),$(".schedule-nav").toggleClass("show"))})):$(window).unbind("scroll")}function c(a){var b,c=u.length;u.forEach(function(a,c){a.checked&&(b=c)});for(var d=[];d.length<c;)d.push(t[b]),b++,b>=c&&(b=0);for(var e=0;e<d.length;e++){var f=d[e];f.removeAttribute("data-pos"),0!==e&&f.setAttribute("data-pos",e)}"function"==typeof a&&a()}function d(){s.style.paddingBottom=o?"0px":r.clientHeight+"px"}function e(a){x.checked=!1,c(function(){f(),window.location.hash=a,window.scrollTo(0,0);for(var b=0;b<t.length;b++)t[b].removeAttribute("data-pos")}),o&&(r.style.top=$(".pages-stack").height()+"px")}function f(){x.checked&&c(),d()}function g(a){a.preventDefault(),x.checked=!1}function h(a){document.querySelector(".not-active").removeEventListener("click",g),v.forEach(function(b){b.classList.remove("not-active"),b.classList.remove("disabled"),b.attributes.href.nodeValue.slice(1)===a&&(b.className+=o?" not-active disable":" not-active")}),document.querySelector(".not-active").addEventListener("click",g)}function i(){var a=location.hash?location.hash.slice(1):null;if(null===a)return void(window.location.hash="#page-home");var c=a.replace("page","radio-nav"),d=document.getElementById(c);return null===d?void(window.location.hash="#page-home"):(d.checked=!0,b("page-program"===a?!0:!1),h(a),void e(a))}function j(a){var b=a.count+1;$(".shadow").each(function(){for(var a=$(this).children().eq(0).text(),c=0;b>c;c++){var d='<div class="item stroke-'+c+'">'+a+"</div>";$(this).append(d)}}),o||$(".shadow").each(function(){$(this).on("mousemove",function(a){var b=$(this),c={x:a.offsetX,y:a.offsetY},d=b.width()/100,e=c.x/d-80,f=c.y;b.css({"perspective-origin":e+"% "+f+"%"})})})}function k(){var a=$(".itinerary ul").width(),b=(window.innerWidth-a)/2;$(".schedule-nav").css({width:a,left:b})}function l(){d(),k()}function m(){var a=document.querySelector(".logo"),b=a.getBoundingClientRect(),c=document.scrollingElement.scrollTop,d=document.scrollingElement.scrollLeft,e={t:b.top-c,l:b.left-d,b:b.bottom-c,r:b.right-d,cx:b.width/2+b.left+d,cy:b.height/2+b.top+c,w:b.width,h:b.height},f=a.querySelectorAll(".letters-tail ul"),g=[].map.call(f,function(a){return getComputedStyle(a)["perspective-origin"].split(" ").map(function(a){return parseInt(a)})}),h=e.cx,i=e.cy,j=function(){b=a.getBoundingClientRect(),e={t:b.top,l:b.left,b:b.bottom,r:b.right,cx:b.width/2+b.left,cy:b.height/2+b.top,w:b.width,h:b.height},g=[].map.call(f,function(a){return getComputedStyle(a)["perspective-origin"].split(" ").map(function(a){return parseInt(a)})})},k=function(a){window.requestAnimationFrame(function(){h=a.pageX-h,i=a.pageY-i,g.forEach(function(a,b){a[0]+=h,a[1]+=i,f[b].style["perspective-origin"]=a.map(function(a){return a+"px"}).join(" ")}),h=a.pageX,i=a.pageY})};window.addEventListener("resize",j),o||document.querySelector("#page-home .canvas").addEventListener("mousemove",k,!0)}function n(){var a=new XMLHttpRequest,b="http://api.openweathermap.org/data/2.5/weather?id=293397&appid=17e28f9119f49c8bf85eaacba44455c1&units=metric",c=function(a){var b=a.name,c=Math.round(a.main.temp),d=Math.round(9*c/5+32),e=a.sys.country;document.querySelector("span.city").innerHTML=b,document.querySelector("span.celTemp").innerHTML=c,document.querySelector("span.ferTemp").innerHTML=d,document.querySelector("span.country").innerHTML=e};a.open("GET",b,!0),a.onreadystatechange=function(){4===a.readyState&&200===a.status&&c(JSON.parse(a.responseText))},a.send(null)}var o=function(){return"undefined"!=typeof window.orientation}(),p=!1,q=0,r=document.getElementsByClassName("footer-wrapper")[0],s=document.getElementsByClassName("pages-stack")[0],t=[].slice.call(s.getElementsByClassName("page")),u=[].slice.call(document.getElementsByClassName("page-radio-nav")),v=[].slice.call(document.getElementsByClassName("pages-nav")[0].getElementsByClassName("link")),w=document.getElementsByTagName("body")[0],x=document.getElementById("menu-trigger"),y=setInterval(function(){q++,q>=3&&p&&(clearInterval(y),$(".loader").fadeOut(function(){$(".preloader").fadeOut(function(){$("body").addClass("loaded"),$(".preloader").remove()})}))},1e3);window.onload=function(){o&&(w.classList.add("mobile"),r.classList.add("mobile"),r.classList.remove("hide")),w.classList.add("ready");var a=document.getElementById("email");a.onblur=function(){a.classList.contains("full")&&""!==a.value?a.classList.add("full"):""===a.value&&a.classList.remove("full")},n(),j({count:4}),i(),window.addEventListener("hashchange",i,!0),x.addEventListener("click",f,!0),window.setTimeout(function(){r.classList.remove("hide"),w.classList.remove("loading");for(var a=0;a<t.length;a++)t[a].classList.remove("loading");document.querySelector(".cfs-badge").classList.remove("out"),l(),m()},400),window.addEventListener("resize",l,!0)}}();